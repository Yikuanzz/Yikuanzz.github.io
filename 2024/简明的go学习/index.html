<!DOCTYPE html>
<html lang="en-us">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>

<meta name='description' content='Go 基础 Go 语言是谷歌 2009 年首次推出并在 2012 年正式发布的一种全新的编程语言，可以在不损失应用程序性能的情况下降低代码的复杂性。 下面是 Go 的 “Hello'><title>简明的GO学习</title>

<link rel='canonical' href='https://yikuanzz.github.io/2024/%E7%AE%80%E6%98%8E%E7%9A%84go%E5%AD%A6%E4%B9%A0/'>

<link rel="stylesheet" href="/scss/style.min.46208cabd58e8bcef0cfb7d7ea6b561adcca3b91dd1fc6657493a44f03c5db75.css"><meta property='og:title' content='简明的GO学习'>
<meta property='og:description' content='Go 基础 Go 语言是谷歌 2009 年首次推出并在 2012 年正式发布的一种全新的编程语言，可以在不损失应用程序性能的情况下降低代码的复杂性。 下面是 Go 的 “Hello'>
<meta property='og:url' content='https://yikuanzz.github.io/2024/%E7%AE%80%E6%98%8E%E7%9A%84go%E5%AD%A6%E4%B9%A0/'>
<meta property='og:site_name' content='Yikuanzz'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Note' /><meta property='article:published_time' content='2024-06-05T18:01:12&#43;08:00'/><meta property='article:modified_time' content='2024-06-05T18:01:12&#43;08:00'/><meta property='og:image' content='https://yikuanzz.github.io/2024/%E7%AE%80%E6%98%8E%E7%9A%84go%E5%AD%A6%E4%B9%A0/cover.png' />
<meta name="twitter:title" content="简明的GO学习">
<meta name="twitter:description" content="Go 基础 Go 语言是谷歌 2009 年首次推出并在 2012 年正式发布的一种全新的编程语言，可以在不损失应用程序性能的情况下降低代码的复杂性。 下面是 Go 的 “Hello"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://yikuanzz.github.io/2024/%E7%AE%80%E6%98%8E%E7%9A%84go%E5%AD%A6%E4%B9%A0/cover.png' />
    <link rel="shortcut icon" href="https://s2.loli.net/2024/03/22/Z5UYhgiHmGofML8.jpg" />
<style>
    :root {
        --article-font-family: "Noto Serif SC", var(--base-font-family);
    }
</style>

<script> 
		(function () {
		    const customFont = document.createElement('link');
		    customFont.href = "https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;700&display=swap"; 
		    customFont.type = "text/css";
		    customFont.rel = "stylesheet";
		
		    document.head.appendChild(customFont);
		}());
</script>

    </head>
    <body class="
    article-page
">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex 
    <!-- 
        extended
     -->
    on-phone--column extended
">
    
<div id="article-toolbar">
    <a href="https://yikuanzz.github.io/" class="back-home">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



        <span>Back</span>
    </a>
</div>
    <aside class="sidebar left-sidebar sticky">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header class="site-info">
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/aa2_hue12ee8e79b9cb68bf5d1297bba3d9824_12551_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">🎧</span>
                
            </figure>
            
        
        
        <h1 class="site-name"><a href="/">Yikuanzz</a></h1>
        <h2 class="site-description">Anytimes you like.</h2><ol class="social-menu">
                
                    <li>
                        <a 
                            href='https://space.bilibili.com/15264235'
                            target="_blank"
                            title="Bilibili"
                        >
                            
                            
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-bilibili" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="#87CEFA" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M3 10a4 4 0 0 1 4 -4h10a4 4 0 0 1 4 4v6a4 4 0 0 1 -4 4h-10a4 4 0 0 1 -4 -4v-6z" />
  <path d="M8 3l2 3" />
  <path d="M16 3l-2 3" />
  <path d="M9 13v-2" />
  <path d="M15 11v2" />
</svg>
                            
                        </a>
                    </li>
                
                    <li>
                        <a 
                            href='https://github.com/Yikuanzz'
                            target="_blank"
                            title="GitHub"
                        >
                            
                            
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ff9300" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                            
                        </a>
                    </li>
                
                    <li>
                        <a 
                            href='https://leetcode.cn/u/yikuanzz/'
                            target="_blank"
                            title="Leetcode"
                        >
                            
                            
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-leetcode" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ff2825" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M12 13h7.5" />
  <path d="M9.424 7.268l4.999 -4.999" />
  <path d="M16.633 16.644l-2.402 2.415a3.189 3.189 0 0 1 -4.524 0l-3.77 -3.787a3.223 3.223 0 0 1 0 -4.544l3.77 -3.787a3.189 3.189 0 0 1 4.524 0l2.302 2.313" />
</svg>
                            
                        </a>
                    </li>
                
                    <li>
                        <a 
                            href='https://www.zhihu.com/people/dolikes'
                            target="_blank"
                            title="Zhihu"
                        >
                            
                            
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-zhihu" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="#009988" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M14 6h6v12h-2l-2 2l-1 -2h-1z" />
  <path d="M4 12h6.5" />
  <path d="M10.5 6h-5" />
  <path d="M6 4c-.5 2.5 -1.5 3.5 -2.5 4.5" />
  <path d="M8 6v7c0 4.5 -2 5.5 -4 7" />
  <path d="M11 18l-3 -5" />
</svg>
                            
                        </a>
                    </li>
                
            </ol></header>

    <ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>首页</span>
            </a>
        </li>
        
        

        <li >
            <a href='/daily' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-book-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="#C1C1C1" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M19 4v16h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12z" />
  <path d="M19 16h-12a2 2 0 0 0 -2 2" />
  <path d="M9 8h6" />
</svg>
                
                <span>日报</span>
            </a>
        </li>
        
        

        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>关于</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>归档</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>搜索</span>
            </a>
        </li>
        

        
            <li id="dark-mode-toggle">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <span>Dark Mode</span>
            </li>
        
    </ol>
</aside>

<main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/2024/%E7%AE%80%E6%98%8E%E7%9A%84go%E5%AD%A6%E4%B9%A0/">
                <img src="/2024/%E7%AE%80%E6%98%8E%E7%9A%84go%E5%AD%A6%E4%B9%A0/cover_hu6c64888fb7dba8ea3f9b3ae918b049b3_2340567_800x0_resize_box_3.png"
                        srcset="/2024/%E7%AE%80%E6%98%8E%E7%9A%84go%E5%AD%A6%E4%B9%A0/cover_hu6c64888fb7dba8ea3f9b3ae918b049b3_2340567_800x0_resize_box_3.png 800w, /2024/%E7%AE%80%E6%98%8E%E7%9A%84go%E5%AD%A6%E4%B9%A0/cover_hu6c64888fb7dba8ea3f9b3ae918b049b3_2340567_1600x0_resize_box_3.png 1600w"
                        width="800" 
                        height="420" 
                        loading="lazy"
                        alt="Featured image of post 简明的GO学习" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4%E6%8A%80%E6%9C%AF/" style="background-color: #228B22; color: #fff;">
                开发运维技术
            </a>
        
    </header>
    

    <h2 class="article-title">
        <a href="/2024/%E7%AE%80%E6%98%8E%E7%9A%84go%E5%AD%A6%E4%B9%A0/">简明的GO学习</a>
    </h2>

    

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jun 05, 2024</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-words">
                    9632字
                </time>
            </div>
        
    </footer>
    
</div>
</header>

    <section class="article-content">
    
    
    <h2 id="go-基础">Go 基础</h2>
<p>Go 语言是谷歌 2009 年首次推出并在 2012 年正式发布的一种全新的编程语言，可以在不损失应用程序性能的情况下降低代码的复杂性。</p>
<p>下面是 Go 的 “Hello world”程序：</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> <span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#98c379">&#34;Hello Go!&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><blockquote>
<p><strong>题外话</strong>：</p>
<p><strong>Foo</strong> 是一个编程中经常使用的<strong>占位符</strong>，它没有特定的含义。&ldquo;foo&rdquo; 这个词的确有很多不同的起源说法。以下是一些可能的来源：</p>
<ul>
<li>
<p>&ldquo;Foo&rdquo; 来自于 &ldquo;FUBAR&rdquo;，这个说法已经在前面提到过了。FUBAR 是 &ldquo;Fucked Up Beyond All Recognition&rdquo; 的缩写，意为 &ldquo;完全搞砸了&rdquo;。&ldquo;Foo&rdquo; 可能是在这个词的基础上发展而来的。</p>
</li>
<li>
<p>&ldquo;Foo&rdquo; 作为占位符的使用可以追溯到 1965 年，当时计算机科学家 Melvin Conway 在一篇论文中使用了 &ldquo;foo&rdquo; 和 &ldquo;bar&rdquo; 作为变量名。他认为这些词听起来有趣，可以使代码更易于阅读。</p>
</li>
<li>
<p>&ldquo;Foo&rdquo; 来自于纽约的一个餐厅，当时计算机科学家们在那里举行了一个会议。他们使用 &ldquo;foo&rdquo; 来代表那个餐厅的名字，后来这个词就成为了占位符的代名词。</p>
</li>
</ul>
</blockquote>
<h3 id="go">Go</h3>
<p>在 Linux 操作系统中，我们安装 Go 之后可以使用命令管理工具来对 Go 进行管理。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#56b6c2">[</span>root@yikuanzz ~<span style="color:#56b6c2">]</span><span style="color:#7f848e"># go -help</span>
</span></span><span style="display:flex;"><span>Go is a tool <span style="color:#c678dd">for</span> managing Go <span style="color:#e5c07b">source</span> code.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Usage:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        go &lt;command&gt; <span style="color:#56b6c2">[</span>arguments<span style="color:#56b6c2">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>The commands are:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        bug         start a bug report
</span></span><span style="display:flex;"><span>        build       compile packages and dependencies
</span></span><span style="display:flex;"><span>        clean       remove object files and cached files
</span></span><span style="display:flex;"><span>        doc         show documentation <span style="color:#c678dd">for</span> package or symbol
</span></span><span style="display:flex;"><span>        env         print Go environment information
</span></span><span style="display:flex;"><span>        fix         update packages to use new APIs
</span></span><span style="display:flex;"><span>        fmt         gofmt <span style="color:#56b6c2">(</span>reformat<span style="color:#56b6c2">)</span> package sources
</span></span><span style="display:flex;"><span>        generate    generate Go files by processing <span style="color:#e5c07b">source</span>
</span></span><span style="display:flex;"><span>        get         add dependencies to current module and install them
</span></span><span style="display:flex;"><span>        install     compile and install packages and dependencies
</span></span><span style="display:flex;"><span>        list        list packages or modules
</span></span><span style="display:flex;"><span>        mod         module maintenance
</span></span><span style="display:flex;"><span>        work        workspace maintenance
</span></span><span style="display:flex;"><span>        run         compile and run Go program
</span></span><span style="display:flex;"><span>        <span style="color:#e5c07b">test</span>        <span style="color:#e5c07b">test</span> packages
</span></span><span style="display:flex;"><span>        tool        run specified go tool
</span></span><span style="display:flex;"><span>        version     print Go version
</span></span><span style="display:flex;"><span>        vet         report likely mistakes in packages
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Use <span style="color:#98c379">&#34;go help &lt;command&gt;&#34;</span> <span style="color:#c678dd">for</span> more information about a command.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Additional <span style="color:#e5c07b">help</span> topics:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        buildconstraint build constraints
</span></span><span style="display:flex;"><span>        buildmode       build modes
</span></span><span style="display:flex;"><span>        c               calling between Go and C
</span></span><span style="display:flex;"><span>        cache           build and <span style="color:#e5c07b">test</span> caching
</span></span><span style="display:flex;"><span>        environment     environment variables
</span></span><span style="display:flex;"><span>        filetype        file types
</span></span><span style="display:flex;"><span>        go.mod          the go.mod file
</span></span><span style="display:flex;"><span>        gopath          GOPATH environment variable
</span></span><span style="display:flex;"><span>        gopath-get      legacy GOPATH go get
</span></span><span style="display:flex;"><span>        goproxy         module proxy protocol
</span></span><span style="display:flex;"><span>        importpath      import path syntax
</span></span><span style="display:flex;"><span>        modules         modules, module versions, and more
</span></span><span style="display:flex;"><span>        module-get      module-aware go get
</span></span><span style="display:flex;"><span>        module-auth     module authentication using go.sum
</span></span><span style="display:flex;"><span>        packages        package lists and patterns
</span></span><span style="display:flex;"><span>        private         configuration <span style="color:#c678dd">for</span> downloading non-public code
</span></span><span style="display:flex;"><span>        testflag        testing flags
</span></span><span style="display:flex;"><span>        testfunc        testing functions
</span></span><span style="display:flex;"><span>        vcs             controlling version control with GOVCS
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Use <span style="color:#98c379">&#34;go help &lt;topic&gt;&#34;</span> <span style="color:#c678dd">for</span> more information about that topic.
</span></span></code></pre></div><p>通过 <code>build</code> 命令，我们可以对 Go 程序进行编译；<code>clean</code> 命令则会删除编译生成的可执行文件；<code>run</code> 命令则是编译并且运行。</p>
<hr>
<p>除了上面这些常用的命令外，还有一些好用的命令也是值得介绍的：</p>
<ul>
<li><code>go vet</code> 可以辅助捕获常见的错误；</li>
<li><code>go fmt</code> 会将你的代码布局成和 Go 源码类似的风格；</li>
<li><code>go doc</code> 能阅读包的文档内容，也可以自己去写代码的文档。</li>
</ul>
<h3 id="包">包</h3>
<p>所有 Go 语言程序会被组成很多组的文件。每一个组就叫做包，放在同个文件夹内。这样每个包的代码都可以作为很小的复用单元，被其他项目引用。</p>
<p>比如，我们在程序开头声明的就是该程序文件所属的包 <code>package main</code>。</p>
<p>创建一个 Go 工程主要步骤如下：</p>
<ul>
<li>
<p>1.新建工程文件目录 <code>goproject</code>。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>mkdir goproject
</span></span></code></pre></div></li>
<li>
<p>2.在工程文件中新建 <code>src</code>、<code>pkg</code>、<code>bin</code> 文件目录。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#e5c07b">cd</span> goproject
</span></span><span style="display:flex;"><span>mkdir src pkg bin
</span></span></code></pre></div></li>
<li>
<p>3.在 GOPYAH 中添加工程路径。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>go env <span style="color:#e06c75">GOATH</span><span style="color:#56b6c2">=</span><span style="color:#98c379">&#34;/home/goproject&#34;</span>
</span></span></code></pre></div></li>
<li>
<p>4.在 <code>src</code> 文件目录下新建自己的包 <code>example</code> 文件目录。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#e5c07b">cd</span> ./src
</span></span><span style="display:flex;"><span>mkdir example
</span></span></code></pre></div></li>
<li>
<p>5.在 <code>src</code>下编写主程序代码 <code>goproject.go</code>。</p>
</li>
<li>
<p>6.在 <code>example</code> 文件内编写 <code>example.go</code> 和包测试文件 <code>example_test.go</code>。</p>
</li>
<li>
<p>7.编译调试包。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>go build example
</span></span><span style="display:flex;"><span>go <span style="color:#e5c07b">test</span> example
</span></span><span style="display:flex;"><span>go install example
</span></span></code></pre></div></li>
<li>
<p>8.编译主程序。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>go build goproject.go
</span></span></code></pre></div></li>
<li>
<p>9.运行主程序。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>.<span style="color:#56b6c2">/</span><span style="color:#e06c75">goproject</span>
</span></span></code></pre></div></li>
</ul>
<p>其中，<code>GOPATH</code> 为工程根目录，<code>bin</code> 用来存放生成的可执行文件，<code>pkg</code> 用来生成 <code>.a</code> 文件，在 <code>golang</code> 中的 <code>import name</code> 实际上是去 <code>GoPATH</code> 中寻找 <code>name.a</code> 文件。</p>
<hr>
<p>在 Go 语言中，会将命名为 <code>main</code> 的包编译成为 二进制可执行程序。</p>
<p>如果某个包名叫 <code>main</code> ，那么其中一定会有名为 <code>main()</code> 的函数。</p>
<p>比如，我们在 <code>$GOPAHT/src/hello</code> 目录中创建 <code>hello.go</code> 并写入我们的“Hello world”程序，然后通过 <code>go build</code> 命令对该程序进行编译，它会产生一个 <code>hello</code> 的可执行程序。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#56b6c2">[</span>root@yikuanzz hello<span style="color:#56b6c2">]</span><span style="color:#7f848e"># ./hello</span>
</span></span><span style="display:flex;"><span>Hello world!
</span></span></code></pre></div><h3 id="导包">导包</h3>
<p>我们注意到程序中，有使用 <code>import &quot;fmt&quot;</code> 的语句。编译器会使用 Go 环境变量设置的路径，通过引入相对路径来去查找磁盘上的包。插个题外话，如果导入包却不适用包中的代码，则会报错。</p>
<p>但是，我们的 <code>$GOPATH</code> 路径上并没有名为 <code>fmt</code> 的包，显然这是标准库中的包，那么这个查找顺序是怎么样的呢？</p>
<p>举例，如果 Go 安装在 <code>/usr/local/go</code> 路径下，且 <code>GOPATH=/home/myproject:/homemylibraries</code>的话，那么我们去查找 <code>net/http</code> 包就会按照以下顺序去做：</p>
<ul>
<li>
<p>1、<code>/usr/local/go/src/pkg/net/http</code>；</p>
</li>
<li>
<p>2、<code>/home/myproject/src/net/http</code>；</p>
</li>
<li>
<p>3、<code>/home/mylibraries/src/net/http</code>。</p>
</li>
</ul>
<p>如果所有目录上都没找到要导入的包，那么我们对程序进行 <code>run</code> 或 <code>build</code> 的时候就会出错。后面，我们会介绍 <code>go get</code> 命令来进行处理。</p>
<hr>
<p>除了本地导入以外，我们也可以通过远程来导入包，比如 <code>import &quot;github.com/spf13/viper&quot;</code>。</p>
<p>当我们的包路径包含 <code>URL</code> 时，Go 工具链就会使用 分布式版本控制系统（Distributed Version Control Systems，DVCS）来获取包，并且将包的源代码保存在 <code>GOPATH</code> 执行的路径里与 <code>URL</code> 匹配的目录里。</p>
<p>这个过程通过 <code>go get</code> 命令完成，<code>go get</code> 将获取任意指定的 <code>URL</code> 的包。</p>
<hr>
<p>当我们用的包多起来的时候，就可能会有相同的包名，这时我们可以对包导入进行重命名，就像下面的代码这样：</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">myfmt</span> <span style="color:#98c379">&#34;mylib/fmt&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#98c379">&#34;Standard Library&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">myfmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#98c379">&#34;mylib/fmt&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="函数-init">函数 init</h3>
<p>每个包可以包含任意多个 <code>init</code> 函数，这些函数都会在程序执行开始的时候被调用。所有被编译器发现的 <code>init</code> 函数都会安排在 <code>main</code> 函数之前执行。</p>
<p>比如，我们看一下 PostgreSQL 数据库驱动中的一段代码：</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">postgres</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> <span style="color:#98c379">&#34;database/sql&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">init</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">sql</span>.<span style="color:#61afef;font-weight:bold">Register</span>(<span style="color:#98c379">&#34;postgres&#34;</span>, <span style="color:#e5c07b">new</span>(<span style="color:#e06c75">PostgresDriver</span>)) 
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>如果程序导入了这个包，就会调用 <code>init</code> 函数，促使 PostgreSQL 的驱动最终注册到 Go 的 <code>sql</code> 包里，成为一个可用的驱动。</p>
<p>为了要注册这个驱动，我们就要倒入这个包，但是呢，我们又不使用包内的代码，只是想要这 <code>init</code> 函数执行。</p>
<p>那么，在导包的时候需要给包重新命名，要用到 <code>_</code> 符号。这样一来，我们可以将驱动注册到 <code>sql</code> 包里面了：</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;database/sql&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">_</span> <span style="color:#98c379">&#34;dbdriver/postgres&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">sql</span>.<span style="color:#61afef;font-weight:bold">Open</span>(<span style="color:#98c379">&#34;postgres&#34;</span>, <span style="color:#98c379">&#34;mydb&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="依赖管理">依赖管理</h3>
<p>上面的内容，我们介绍了 Go 的依赖管理方法，就是通过 <code>GOPATH</code> 的方式来管理包和依赖，这样的方式存在很多弊端，也不利于项目的构建。</p>
<p>因此，社区中出现了很多工具可供我们选择，比如 <code>godep</code>、<code>vender</code>、<code>gb</code> 等等。</p>
<p>这里我们介绍一下 <code>gb</code> 工程的样式：</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>/home/bill/devel/myproject <span style="color:#56b6c2">(</span><span style="color:#e06c75">$PROJECT</span><span style="color:#56b6c2">)</span>
</span></span><span style="display:flex;"><span>|-- src
</span></span><span style="display:flex;"><span>| |-- cmd
</span></span><span style="display:flex;"><span>| | |-- myproject
</span></span><span style="display:flex;"><span>| | | |-- main.go
</span></span><span style="display:flex;"><span>| |-- examples
</span></span><span style="display:flex;"><span>| |-- model
</span></span><span style="display:flex;"><span>| |-- README.md
</span></span><span style="display:flex;"><span>|-- vendor
</span></span><span style="display:flex;"><span> |-- src
</span></span><span style="display:flex;"><span> |-- bitbucket.org
</span></span><span style="display:flex;"><span> | |-- ww
</span></span><span style="display:flex;"><span> | |-- goautoneg
</span></span><span style="display:flex;"><span> | |-- Makefile
</span></span><span style="display:flex;"><span> | |-- README.txt
</span></span><span style="display:flex;"><span> | |-- autoneg.go
</span></span><span style="display:flex;"><span> | |-- autoneg_test.go
</span></span><span style="display:flex;"><span> |-- github.com
</span></span><span style="display:flex;"><span> |-- beorn7
</span></span><span style="display:flex;"><span> |-- perks
</span></span><span style="display:flex;"><span> |-- README.md
</span></span><span style="display:flex;"><span> |-- quantile
</span></span><span style="display:flex;"><span> |-- bench_test.go
</span></span><span style="display:flex;"><span> |-- example_test.go
</span></span><span style="display:flex;"><span> |-- exampledata.txt
</span></span><span style="display:flex;"><span> |-- stream.go
</span></span></code></pre></div><p><code>gb</code> 工程会区分开发人员的代码和开发人员需要依赖的代码。开发人员的代码放在 <code>$PROJECT/src/</code> 中，第三方代码放在 <code>$PROJECT/vendor/src</code>中。</p>
<p>接下来，我们做一个实例，尝试创建一个 <code>gb</code> 工程：</p>
<p>1、首先我们先安装 <code>gb</code> 工具：（要将 <code>$GOPATH/bin</code> 加入到环境变量中 <code>export PATH=$PATH:$GOPATH/bin</code> ）</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#56b6c2">[</span>root@yikuanzz ~<span style="color:#56b6c2">]</span><span style="color:#7f848e"># go get github.com/constabulary/gb/...</span>
</span></span></code></pre></div><p>2、我们创建一个文件夹 <code>demo-project</code> 和目录下的 <code>src/hello </code>文件夹：</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#56b6c2">[</span>root@yikuanzz ~<span style="color:#56b6c2">]</span><span style="color:#7f848e"># mkdir /home/demo-project</span>
</span></span><span style="display:flex;"><span><span style="color:#56b6c2">[</span>root@yikuanzz ~<span style="color:#56b6c2">]</span><span style="color:#7f848e"># mkdir -p /home/demo-project/src/hello</span>
</span></span><span style="display:flex;"><span><span style="color:#56b6c2">[</span>root@yikuanzz ~<span style="color:#56b6c2">]</span><span style="color:#7f848e"># tree /home/demo-project/</span>
</span></span><span style="display:flex;"><span>/home/demo-project/
</span></span><span style="display:flex;"><span>└── src
</span></span><span style="display:flex;"><span>    └── hello
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#d19a66">2</span> directories, <span style="color:#d19a66">0</span> files
</span></span></code></pre></div><p>3、然后我们将写一个简单的 ”Hello world“ 程序到 <code>hello.go</code> 文件中：</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#56b6c2">[</span>root@yikuanzz ~<span style="color:#56b6c2">]</span><span style="color:#7f848e"># tree /home/demo-project/</span>
</span></span><span style="display:flex;"><span>/home/demo-project/
</span></span><span style="display:flex;"><span>└── src
</span></span><span style="display:flex;"><span>    └── hello
</span></span><span style="display:flex;"><span>        └── hello.go
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#d19a66">2</span> directories, <span style="color:#d19a66">1</span> file
</span></span></code></pre></div><p>4、进入到目录下，对项目进行编译和运行：</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#56b6c2">[</span>root@yikuanzz demo-project<span style="color:#56b6c2">]</span><span style="color:#7f848e"># gb build all</span>
</span></span><span style="display:flex;"><span>hello
</span></span><span style="display:flex;"><span><span style="color:#56b6c2">[</span>root@yikuanzz demo-project<span style="color:#56b6c2">]</span><span style="color:#7f848e"># bin/hello</span>
</span></span><span style="display:flex;"><span>Hello gb
</span></span><span style="display:flex;"><span><span style="color:#56b6c2">[</span>root@yikuanzz demo-project<span style="color:#56b6c2">]</span><span style="color:#7f848e"># tree</span>
</span></span><span style="display:flex;"><span>/home/demo-project/
</span></span><span style="display:flex;"><span>├── bin
</span></span><span style="display:flex;"><span>│   └── hello
</span></span><span style="display:flex;"><span>└── src
</span></span><span style="display:flex;"><span>    └── hello
</span></span><span style="display:flex;"><span>        └── hello.go
</span></span></code></pre></div><h2 id="go-数据结构">Go 数据结构</h2>
<h3 id="数组">数组</h3>
<p><strong>数组</strong>的最大一个特点就是占用的内存是<strong>连续分布</strong>的。</p>
<ul>
<li>CPU 能将正在使用的数据缓存更久；</li>
<li>容易计算索引，迭代元素。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 声明一个包含 5 个 int 元素的数组
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">var</span> <span style="color:#e06c75">array</span> [<span style="color:#d19a66">5</span>]<span style="color:#e5c07b">int</span>
</span></span></code></pre></div><p>数组初始化时，每个元素都为对应类型的<strong>零值</strong>。</p>
<p>如果想要更加快速地创建数组，可以使用<strong>数组字面量</strong>。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 声明一个包含 5 个 int 元素的数组 并且 初始化每个元素
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">array</span> <span style="color:#56b6c2">:=</span> [<span style="color:#d19a66">5</span>]<span style="color:#e5c07b">int</span> {<span style="color:#d19a66">10</span>, <span style="color:#d19a66">20</span>, <span style="color:#d19a66">30</span>, <span style="color:#d19a66">40</span> ,<span style="color:#d19a66">50</span>}
</span></span></code></pre></div><p>当然，我们可以让 Go 根据元素的数量来确定<strong>数组长度</strong>。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 容量初始化值的数量决定
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">array</span> <span style="color:#56b6c2">:=</span> [<span style="color:#56b6c2">...</span>]<span style="color:#e5c07b">int</span> {<span style="color:#d19a66">10</span>, <span style="color:#d19a66">20</span>, <span style="color:#d19a66">30</span>, <span style="color:#d19a66">40</span>, <span style="color:#d19a66">50</span>}
</span></span></code></pre></div><p>此外，我们也可以指定<strong>对应元素的初始化值</strong>。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 指定 索引2 和 索引3 的值
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">array</span> <span style="color:#56b6c2">:=</span> [<span style="color:#d19a66">5</span>]<span style="color:#e5c07b">int</span> {<span style="color:#d19a66">2</span>: <span style="color:#d19a66">30</span>, <span style="color:#d19a66">3</span>:<span style="color:#d19a66">40</span>}
</span></span></code></pre></div><hr>
<p>除了通过 <code>[]</code> 运算符来访问数组，我们还可以通过<strong>指针访问值</strong>。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 数组元素为 整型指针
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">arrary</span> <span style="color:#56b6c2">:=</span> [<span style="color:#d19a66">5</span>]<span style="color:#56b6c2">*</span><span style="color:#e5c07b">int</span> {<span style="color:#d19a66">0</span>: <span style="color:#e5c07b">new</span>(<span style="color:#e5c07b">int</span>), <span style="color:#d19a66">1</span>:<span style="color:#e5c07b">new</span>(<span style="color:#e5c07b">int</span>)}
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 给 索引0 和 索引1 赋值
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#56b6c2">*</span><span style="color:#e06c75">array</span>[<span style="color:#d19a66">0</span>] = <span style="color:#d19a66">10</span>
</span></span><span style="display:flex;"><span><span style="color:#56b6c2">*</span><span style="color:#e06c75">array</span>[<span style="color:#d19a66">1</span>] = <span style="color:#d19a66">20</span>
</span></span></code></pre></div><p>在 Go 语言中，<strong>数组是一个值</strong>。所以，数组是可以用在赋值上的，这样就可以复制数组。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 声明一个包含 5 个字符串的数组
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">var</span> <span style="color:#e06c75">array1</span> [<span style="color:#d19a66">5</span>]<span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 声明另一个包含 5 个字符串的数组 并且 初始化
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">array2</span> = [<span style="color:#d19a66">5</span>]<span style="color:#e5c07b">string</span> {<span style="color:#98c379">&#34;Red&#34;</span>, <span style="color:#98c379">&#34;Blue&#34;</span>, <span style="color:#98c379">&#34;Green&#34;</span>, <span style="color:#98c379">&#34;Yellow&#34;</span>, <span style="color:#98c379">&#34;Pink&#34;</span>}
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 把 array2 值复制给 array1
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">array1</span> = <span style="color:#e06c75">array2</span>
</span></span></code></pre></div><p>此外，如果复制的是指针数组的话，则是将指针地址的值复制了一遍，它们都指向同一个内容。</p>
<hr>
<p><strong>多维度数组</strong>也是数组中的一个重要内容，它可以很容易地管理具父子关系的数据或者与坐标相关联的数据。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 声明一个二维整型数组，维度为 4 和 2
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">var</span> <span style="color:#e06c75">array</span> [<span style="color:#d19a66">4</span>][<span style="color:#d19a66">2</span>]<span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 数组字面量声明
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">array</span> <span style="color:#56b6c2">:=</span> [<span style="color:#d19a66">4</span>][<span style="color:#d19a66">2</span>]<span style="color:#e5c07b">int</span> {{<span style="color:#d19a66">10</span>, <span style="color:#d19a66">11</span>}, {<span style="color:#d19a66">20</span>, <span style="color:#d19a66">21</span>}, {<span style="color:#d19a66">30</span>, <span style="color:#d19a66">31</span>}, {<span style="color:#d19a66">40</span>, <span style="color:#d19a66">41</span>}}
</span></span></code></pre></div><hr>
<p><strong>在函数间传递数组</strong>是一个很大的开销，因为函数变量的传递都是以值的方式传递的，如果变量是数组的话，就意味着会将一整个完整的数组进行复制，这样显然不太好。</p>
<p>因此，用指针来传递数组会是个好的选择。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> <span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">valueCopy</span>(<span style="color:#e06c75">arr</span> [<span style="color:#d19a66">5</span>]<span style="color:#e5c07b">int</span>){
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;[value]arr: %p \n&#34;</span>, <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">arr</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">addrCopy</span>(<span style="color:#e06c75">arr</span> <span style="color:#56b6c2">*</span>[<span style="color:#d19a66">5</span>]<span style="color:#e5c07b">int</span>){
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;[address]arr: %p \n&#34;</span>, <span style="color:#e06c75">arr</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">array</span> <span style="color:#56b6c2">:=</span> [<span style="color:#d19a66">5</span>]<span style="color:#e5c07b">int</span> {<span style="color:#d19a66">4</span>, <span style="color:#d19a66">5</span>, <span style="color:#d19a66">6</span>, <span style="color:#d19a66">7</span>, <span style="color:#d19a66">8</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;[base]arr: %p \n&#34;</span>, <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">array</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">valueCopy</span>(<span style="color:#e06c75">array</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">addrCopy</span>(<span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">array</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>输出结果：</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#56b6c2">[</span>root@yikuanzz ~<span style="color:#56b6c2">]</span><span style="color:#7f848e"># go run hello</span>
</span></span><span style="display:flex;"><span><span style="color:#56b6c2">[</span>base<span style="color:#56b6c2">]</span>arr: 0xc00001e060 
</span></span><span style="display:flex;"><span><span style="color:#56b6c2">[</span>value<span style="color:#56b6c2">]</span>arr: 0xc00001e090 
</span></span><span style="display:flex;"><span><span style="color:#56b6c2">[</span>address<span style="color:#56b6c2">]</span>arr: 0xc00001e060 
</span></span></code></pre></div><h3 id="切片">切片</h3>
<p><strong>切片</strong>是一种动态数组，可以按照需要增长大小和缩小。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>// 底层数组指针、切片长度、切片允许增长到的元素个数
</span></span><span style="display:flex;"><span> ----- ----- -----
</span></span><span style="display:flex;"><span>| ptr | len | cap |
</span></span><span style="display:flex;"><span> ----- ----- -----
</span></span></code></pre></div><hr>
<p><strong>切片的创建和初始化</strong>：</p>
<p>1、make 和 切片字面量。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 创建字符串切片，长度和容量都是 5
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">slice</span> <span style="color:#56b6c2">:=</span> <span style="color:#e5c07b">make</span>([]<span style="color:#e5c07b">string</span>, <span style="color:#d19a66">5</span>)
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 创建整型切片，长度为 3 ，容量为 5
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">slice</span> <span style="color:#56b6c2">:=</span> <span style="color:#e5c07b">make</span>([]<span style="color:#e5c07b">int</span>, <span style="color:#d19a66">3</span>, <span style="color:#d19a66">5</span>)
</span></span></code></pre></div><p>我们还可以通过切片字面量来声明切片，但是要注意与数组的声明方式做区分。如果我们在 <code>[]</code> 运算符中指定了</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 创建字符串切片
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">slice</span> <span style="color:#56b6c2">:=</span> []<span style="color:#e5c07b">string</span> {<span style="color:#98c379">&#34;Red&#34;</span>, <span style="color:#98c379">&#34;Blue&#34;</span>, <span style="color:#98c379">&#34;Green&#34;</span>, <span style="color:#98c379">&#34;Yellow&#34;</span>, <span style="color:#98c379">&#34;Pink&#34;</span>}
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 创建字符串切片
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">slice</span> <span style="color:#56b6c2">:=</span> []<span style="color:#e5c07b">string</span> {<span style="color:#d19a66">99</span>: <span style="color:#98c379">&#34;&#34;</span>}
</span></span></code></pre></div><p>2、nil 和 空切片。</p>
<p>nil 切片是很常见的创建切片的方法，可以用于很多标准库和内置函数。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 创建 nil 整型切片
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">var</span> <span style="color:#e06c75">slice</span> []<span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 使用 make 创建空切片
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">slice</span> <span style="color:#56b6c2">:=</span> <span style="color:#e5c07b">make</span>([]<span style="color:#e5c07b">int</span>, <span style="color:#d19a66">0</span>)
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 使用切片字面量创建空的整型切片
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">slice</span> <span style="color:#56b6c2">:=</span> []<span style="color:#e5c07b">int</span> {}
</span></span></code></pre></div><hr>
<p><strong>切片的使用：</strong></p>
<p>1、赋值和切片</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 创建整型切片并赋值
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">slice</span> <span style="color:#56b6c2">:=</span> []<span style="color:#e5c07b">int</span>{<span style="color:#d19a66">10</span>, <span style="color:#d19a66">20</span>, <span style="color:#d19a66">30</span>, <span style="color:#d19a66">40</span>, <span style="color:#d19a66">50</span>}
</span></span></code></pre></div><p>切片之所以叫切片，就是创建一个新的切片就是把底层数组切出一部分。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 创建一个新切片  前闭后开
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">newSlice</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">slice</span>[<span style="color:#d19a66">1</span>:<span style="color:#d19a66">3</span>]
</span></span></code></pre></div><p>我们仔细观察知道 <code>slice</code> 的切片容量是 <code>5</code>，而 <code>newSlice</code> 的切片容量是 <code>4</code>。为什么呢？</p>
<p>还记得切片的三个元素么，除了长度和容量，还有指针。我们对切片再进行切片时，其实是将指针指向原数组的地址，那么之前作为开头的元素地址我们就不知道了。</p>
<p><figure 
	>
	<a href="https://yikuanwebsite.oss-cn-guangzhou.aliyuncs.com/img/20240609205434.png" >
		<img src="https://yikuanwebsite.oss-cn-guangzhou.aliyuncs.com/img/20240609205434.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<p>2、切片增长</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 创建一个整型切片
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">slice</span> <span style="color:#56b6c2">:=</span> []<span style="color:#e5c07b">int</span> {<span style="color:#d19a66">10</span>, <span style="color:#d19a66">20</span>, <span style="color:#d19a66">30</span>, <span style="color:#d19a66">40</span>, <span style="color:#d19a66">50</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 创建一个新切片
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">newSlice</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">slice</span>[<span style="color:#d19a66">1</span>:<span style="color:#d19a66">3</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 使用原容量分配新元素
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">newSlice</span> = <span style="color:#e5c07b">append</span>(<span style="color:#e06c75">newSlice</span>, <span style="color:#d19a66">60</span>)
</span></span></code></pre></div><p>当我们使用 <code>append</code> 函数时，如果底层数组有额外容量，那么就修改对应位置上的数；如果底层数组没有可用容量时，<code>append</code> 函数会创建一个新的底层数组，将被引用的现有的值复制到新数组里，再追加新的值。</p>
<blockquote>
<p>函数 <code>append</code> 会智能地处理底层数组的容量增长。当切片容量小于 1000 个元素的时候，总是成倍地增加容量。一旦元素超过 1000，容量的增长因子会设为 1.25。当然，具体的增长算法可能会改变。</p>
</blockquote>
<p>3、创建切片时的 3 个索引</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 创建字符串切片
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">source</span> <span style="color:#56b6c2">:=</span> []<span style="color:#e5c07b">string</span> {<span style="color:#98c379">&#34;Apple&#34;</span>, <span style="color:#98c379">&#34;Orange&#34;</span>, <span style="color:#98c379">&#34;Plum&#34;</span>, <span style="color:#98c379">&#34;Banana&#34;</span>, <span style="color:#98c379">&#34;Grape&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 将第三个元素切片，并限制容量
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">slice</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">source</span>[<span style="color:#d19a66">2</span>:<span style="color:#d19a66">3</span>:<span style="color:#d19a66">4</span>]
</span></span></code></pre></div><p>第三个索引的含义是限制新建切片的最大容量。</p>
<p>有一个比较好的用途是，如果切片最大容量为当前切片长度，那么在使用 <code>append</code> 函数时，就能够让其与原有的底层数组分离。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 创建字符串切片
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">source</span> <span style="color:#56b6c2">:=</span> []<span style="color:#e5c07b">string</span> {<span style="color:#98c379">&#34;Apple&#34;</span>, <span style="color:#98c379">&#34;Orange&#34;</span>, <span style="color:#98c379">&#34;Plum&#34;</span>, <span style="color:#98c379">&#34;Banana&#34;</span>, <span style="color:#98c379">&#34;Grape&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 将第三个元素切片，并限制容量
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">slice</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">source</span>[<span style="color:#d19a66">2</span>:<span style="color:#d19a66">3</span>:<span style="color:#d19a66">3</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 向 slice 追加新字符串
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">slice</span> = <span style="color:#e5c07b">append</span>(<span style="color:#e06c75">slice</span>, <span style="color:#98c379">&#34;Kiwi&#34;</span>)
</span></span></code></pre></div><p>此外，<code>append</code> 函数使用 <code>...</code> 运算符可以将一个切片的所有元素追加到另一个切片里。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 创建两个切片，并分别用两个整数进行初始化
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">s1</span> <span style="color:#56b6c2">:=</span> []<span style="color:#e5c07b">int</span> {<span style="color:#d19a66">1</span>, <span style="color:#d19a66">2</span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">s2</span> <span style="color:#56b6c2">:=</span> []<span style="color:#e5c07b">int</span> {<span style="color:#d19a66">3</span>, <span style="color:#d19a66">4</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 将两个切片追加在一起，并显示结果
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;%v \n&#34;</span>, <span style="color:#e5c07b">append</span>(<span style="color:#e06c75">s1</span>, <span style="color:#e06c75">s2</span><span style="color:#56b6c2">...</span>))
</span></span></code></pre></div><p>4、迭代切片</p>
<p>Go 语言中也有 <code>range</code> 可以配合 <code>for</code> 来迭代切片里的元素。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 创建一个整型切片
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">slice</span> <span style="color:#56b6c2">:=</span> []<span style="color:#e5c07b">int</span> {<span style="color:#d19a66">10</span>, <span style="color:#d19a66">20</span>, <span style="color:#d19a66">30</span>, <span style="color:#d19a66">40</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 循环迭代
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">for</span> <span style="color:#e06c75">index</span>, <span style="color:#e06c75">value</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">range</span> <span style="color:#e06c75">slice</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;Index: %d Value: %d\n&#34;</span>, <span style="color:#e06c75">index</span>, <span style="color:#e06c75">value</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>当迭代切片时，<code>range</code> 会返回两个值，第一个是当前迭代到的索引位置，第二个值是该位置对应元素的一份副本。</p>
<p>当然，我们也可以用传统的 <code>for</code> 循环搭配 <code>len</code> 函数 和 <code>cap</code> 函数来进行迭代。</p>
<hr>
<p><strong>多维切片</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 创建一个整型切片的切片
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">slice</span> <span style="color:#56b6c2">:=</span> [][]<span style="color:#e5c07b">int</span> {{<span style="color:#d19a66">10</span>}, {<span style="color:#d19a66">100</span>, <span style="color:#d19a66">200</span>}}
</span></span></code></pre></div><p>因为切片的结构简单，我们通过 <code>append</code> 去增加新的元素也不会有特别大的开销。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 为第一个切片追加值为 20 的元素
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">slice</span>[<span style="color:#d19a66">0</span>] = <span style="color:#e5c07b">append</span>(<span style="color:#e06c75">slice</span>[<span style="color:#d19a66">0</span>], <span style="color:#d19a66">20</span>)
</span></span></code></pre></div><hr>
<p><strong>函数间传递切片</strong></p>
<p>因为切片的尺寸很小，在函数间复制和传递切片的成本也很低。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 分配 100 万个整型值的切片
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">slice</span> <span style="color:#56b6c2">:=</span> <span style="color:#e5c07b">make</span>([]<span style="color:#e5c07b">int</span>, <span style="color:#e06c75">le6</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 将 slice 传递给函数
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">slice</span> = <span style="color:#61afef;font-weight:bold">foo</span>(<span style="color:#e06c75">slice</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 函数 foo 接收一个整型切片，并返回这个切片
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">foo</span>(<span style="color:#e06c75">slice</span> []<span style="color:#e5c07b">int</span>) []<span style="color:#e5c07b">int</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#56b6c2">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">return</span> <span style="color:#e06c75">slice</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><blockquote>
<p>32位 和 64位 系统在 Windows 下基本数据类型的大小都是一样的。只有指针的大小不一样！32位指针大小为 4byte，而 64位 的指针大小为 8byte。</p>
</blockquote>
<p>这样我们知道，在 64 位计算机中传递切片，实际上的开销只有 24 个字节。并且，函数中的切片和函数外的切片都是指向同一个底层数组，所以如果在函数修改了切片中数据，那么外面的切片也会察觉到变化。</p>
<h3 id="映射">映射</h3>
<p><code>map</code> 是一种无序的基于 <code>key-value</code> 的数据结构，Go 语言中的 map 是引用类型，必须初始化才能使用。</p>
<p>映射功能强大的地方在于，能够基于键快速检索数据。</p>
<hr>
<p>映射是一个<strong>集合</strong>，所以它可以使用处理数组和切片刀方式迭代映射中的元素，但映射是无序的集合，意味着没办法预测键值对被返回的顺序。</p>
<p><figure 
	>
	<a href="https://yikuanwebsite.oss-cn-guangzhou.aliyuncs.com/img/20240610155245.png" >
		<img src="https://yikuanwebsite.oss-cn-guangzhou.aliyuncs.com/img/20240610155245.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<p>映射最主要的数据结构有两种：<code>哈希查找表（Hash Table）</code>、<code>搜索树（Search Tree）</code>。</p>
<p>哈希表用到<strong>哈希函数</strong>计算 <code>key</code> 的哈希值，然后根据哈希值将 <code>key</code> 分配到不同的桶里面。随着映射存储的增加，哈希值分布就越均匀，访问键值的速度就越快，映射通过合理数量的桶来平衡键值对的分布。</p>
<p>在 Go 语言中，我们给映射添加键值对时，首先会将根据哈希函数的计算值分别放在“同类”的桶里面，一个桶里面放 8 个 <code>key</code>，就是说桶里面共有 8 个位置，然后同个桶内的 <code>key</code> 会根据哈希值地高 8 位来决定在桶内的具体位置。</p>
<p><figure 
	>
	<a href="https://yikuanwebsite.oss-cn-guangzhou.aliyuncs.com/img/20240610161737.png" >
		<img src="https://yikuanwebsite.oss-cn-guangzhou.aliyuncs.com/img/20240610161737.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<p><code>hmap</code> 就是 <code>hashmap</code> 的缩写，<code>bmap</code> 就是“桶”。我们看到 <code>hmap</code> 中的字段，<code>B</code> 是 <code>buckets</code> 数组的长度对数，这里为 5 则 <code>buckets</code> 的长度就是 2 的 5 次方，也就是 32 这么大。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 桶的数据结构
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">type</span> <span style="color:#e06c75">bmap</span> <span style="color:#c678dd">struct</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">topbits</span>	[<span style="color:#d19a66">8</span>]<span style="color:#e5c07b">uint8</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">keys</span>	[<span style="color:#d19a66">8</span>]<span style="color:#e06c75">keytype</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">values</span>	[<span style="color:#d19a66">8</span>]<span style="color:#e06c75">valuetype</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">pad</span>		<span style="color:#e5c07b">uintptr</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">overflow</span>	<span style="color:#e5c07b">uintptr</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>每个 <code>bucket</code> 设计成最多只能放 8 个 <code>key-value</code> 对，如果有第 9 个 <code>key-value</code> 落入当前的 <code>bucket</code>，那就需要再构建一个 <code>bucket</code> ，通过 <code>overflow</code> 指针连接起来。</p>
<hr>
<p><strong>创建和初始化</strong>：</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 创建一个映射，键的类型是 string，值的类型是 int
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">dict</span> <span style="color:#56b6c2">:=</span> <span style="color:#e5c07b">make</span>(<span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>]<span style="color:#e5c07b">int</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 创建一个映射，键和值的类型都是 string
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">// 用两个键值对初始化映射
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">dict</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>]<span style="color:#e5c07b">string</span>{<span style="color:#98c379">&#34;Red&#34;</span>: <span style="color:#98c379">&#34;#da1337&#34;</span>, <span style="color:#98c379">&#34;Orange&#34;</span>: <span style="color:#98c379">&#34;#e95a22&#34;</span>}
</span></span></code></pre></div><hr>
<p><strong>使用映射</strong>：</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 创建空映射，用来存储颜色以及对应的十六进制代码
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">colors</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>]<span style="color:#e06c75">String</span>{}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 将 Red 的代码加入到映射
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">colors</span>[<span style="color:#98c379">&#34;Red&#34;</span>] = <span style="color:#98c379">&#34;#da1337&#34;</span>
</span></span></code></pre></div><p>当然，我们可以通过声明一个未初始化的映射来创建一个值为 <code>nil</code> 的映射，要知道的是 <code>nil</code> 映射不能用用于存储键值对，否则会产生错误。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 通过声明创建一个 nil 映射
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">var</span> <span style="color:#e06c75">colors</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>]<span style="color:#e5c07b">string</span>
</span></span></code></pre></div><p>如果我们想从映射中取值的话有两种方式：</p>
<ul>
<li>1、获得值的同时，得到一个标志来确定这个键是否存在。</li>
<li>2、只获得值，然后判断这个值是否为零值确定其是否存在。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 方式1
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">value</span>, <span style="color:#e06c75">exists</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">colors</span>[<span style="color:#98c379">&#34;Blue&#34;</span>]
</span></span><span style="display:flex;"><span><span style="color:#c678dd">if</span> <span style="color:#e06c75">exists</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">value</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 方式2
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">value</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">colors</span>[<span style="color:#98c379">&#34;Blue&#34;</span>]
</span></span><span style="display:flex;"><span><span style="color:#c678dd">if</span> <span style="color:#e06c75">value</span> <span style="color:#56b6c2">!=</span><span style="color:#98c379">&#34;&#34;</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">value</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>同切片一样，映射也能够通过 <code>range</code> 关键字来进行迭代。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 创建一个映射，存储颜色以及颜色对应的十六进制代码
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">colors</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>]<span style="color:#e5c07b">string</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;AliceBlue&#34;</span>: <span style="color:#98c379">&#34;#f0f8ff&#34;</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;Coral&#34;</span>: <span style="color:#98c379">&#34;#ff7F50&#34;</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;DarkGray&#34;</span>: <span style="color:#98c379">&#34;#a9a9a9&#34;</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;ForestGreen&#34;</span>: <span style="color:#98c379">&#34;#228b22&#34;</span>,
</span></span><span style="display:flex;"><span>} 
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 显示映射里的所有颜色
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">for</span> <span style="color:#e06c75">key</span>, <span style="color:#e06c75">value</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">range</span> <span style="color:#e06c75">colors</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;Key: %s Value: %s\n&#34;</span>, <span style="color:#e06c75">key</span>, <span style="color:#e06c75">value</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>如果我们想把一个键值对从映射里面删除，就要用内置的 <code>delete</code> 函数。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 删除键为 Coral 的键值对
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e5c07b">delete</span>(<span style="color:#e06c75">colors</span>, <span style="color:#98c379">&#34;Coral&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 显示映射里面的所有颜色
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">for</span> <span style="color:#e06c75">key</span>, <span style="color:#e06c75">value</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">range</span> <span style="color:#e06c75">colors</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;Key: %s Value: %s \n&#34;</span>, <span style="color:#e06c75">key</span>, <span style="color:#e06c75">value</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><hr>
<p><strong>函数间传递映射</strong>：</p>
<p>在函数间传递映射并不会重新再建立一个映射副本，它的特性与切片是一样的。就是说，如果在函数中对映射做了修改的话，所有对这个映射的引用都会察觉到这个修改。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 创建一个映射，存储颜色以及颜色对应的十六进制代码
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">colors</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>]<span style="color:#e5c07b">string</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#98c379">&#34;AliceBlue&#34;</span>: <span style="color:#98c379">&#34;#f0f8ff&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#98c379">&#34;Coral&#34;</span>: <span style="color:#98c379">&#34;#ff7F50&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#98c379">&#34;DarkGray&#34;</span>: <span style="color:#98c379">&#34;#a9a9a9&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#98c379">&#34;ForestGreen&#34;</span>: <span style="color:#98c379">&#34;#228b22&#34;</span>,
</span></span><span style="display:flex;"><span> 	} 
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 显示映射里的所有颜色
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#c678dd">for</span> <span style="color:#e06c75">key</span>, <span style="color:#e06c75">value</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">range</span> <span style="color:#e06c75">colors</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;Key: %s Value: %s\n&#34;</span>, <span style="color:#e06c75">key</span>, <span style="color:#e06c75">value</span>)
</span></span><span style="display:flex;"><span> 	} 
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 调用函数来移除指定的键
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">removeColor</span>(<span style="color:#e06c75">colors</span>, <span style="color:#98c379">&#34;Coral&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 显示映射里的所有颜色
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#c678dd">for</span> <span style="color:#e06c75">key</span>, <span style="color:#e06c75">value</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">range</span> <span style="color:#e06c75">colors</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;Key: %s Value: %s\n&#34;</span>, <span style="color:#e06c75">key</span>, <span style="color:#e06c75">value</span>)
</span></span><span style="display:flex;"><span>	} 
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// removeColor 将指定映射里的键删除
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">removeColor</span>(<span style="color:#e06c75">colors</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>]<span style="color:#e5c07b">string</span>, <span style="color:#e06c75">key</span> <span style="color:#e5c07b">string</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#e5c07b">delete</span>(<span style="color:#e06c75">colors</span>, <span style="color:#e06c75">key</span>)
</span></span><span style="display:flex;"><span>} 
</span></span></code></pre></div><h2 id="go-语言系统">Go 语言系统</h2>
<p>Go 语言是一种静态类型的编程语言，编译器在编译时得知道程序里每个值的类型。</p>
<p>这样，编译器可以确保程序合理地用值，可以减少潜在的内存异常，并使编译器有机会对代码进行性能优化。</p>
<p>实际上值的类型给编译器提供了两部分信息:</p>
<ul>
<li>1、需要分配多少内存给这个值。</li>
<li>2、这段内存表示什么。</li>
</ul>
<h3 id="用户定义类型">用户定义类型</h3>
<p>Go 语言允许用户定义类型，其实就是用 <code>struct</code> 关键字来组合字段进行类型的声明。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 定义一个用户类型
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">type</span> <span style="color:#e06c75">user</span> <span style="color:#c678dd">struct</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">email</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">ext</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">privileged</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>用结构体类型声明变量，初始化时会对其中的字段进行零值初始化。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 声明 usr 类型的变量，且初始化为零值
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">var</span> <span style="color:#e06c75">bill</span> <span style="color:#e06c75">user</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 声明 user 类型，并初始化所有字段
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">lisa</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">user</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">name</span>: <span style="color:#98c379">&#34;Lisa&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">email</span>: <span style="color:#98c379">&#34;lisa@email.com&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">ext</span>: <span style="color:#d19a66">123</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">privileged</span>: <span style="color:#e5c07b">true</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// 声明 user 类型，并初始化所有字段
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">john</span> <span style="color:#56b6c2">:=</span> {<span style="color:#98c379">&#34;John&#34;</span>, <span style="color:#98c379">&#34;john@eamil.com&#34;</span>, <span style="color:#d19a66">123</span>, <span style="color:#e5c07b">true</span>}
</span></span></code></pre></div><h3 id="方法">方法</h3>
<p>方法可以给用户定义的类型添加新的行为。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> <span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// user struct
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">type</span> <span style="color:#e06c75">user</span> <span style="color:#c678dd">struct</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">email</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// notify: print information of user
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#e06c75">user</span>) <span style="color:#61afef;font-weight:bold">notify</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;Sending User Email To %s&lt;%s&gt; \n&#34;</span>, <span style="color:#e06c75">u</span>.<span style="color:#e06c75">name</span>, <span style="color:#e06c75">u</span>.<span style="color:#e06c75">email</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// changeEmail: change email of user
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">user</span>) <span style="color:#61afef;font-weight:bold">changeEmail</span>(<span style="color:#e06c75">email</span> <span style="color:#e5c07b">string</span>){
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">u</span>.<span style="color:#e06c75">email</span> = <span style="color:#e06c75">email</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">bill</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">user</span>{<span style="color:#98c379">&#34;Bill&#34;</span>, <span style="color:#98c379">&#34;bill@email.com&#34;</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">bill</span>.<span style="color:#61afef;font-weight:bold">notify</span>()		<span style="color:#7f848e">// value
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">lisa</span> <span style="color:#56b6c2">:=</span> <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">user</span>{<span style="color:#98c379">&#34;Lisa&#34;</span>, <span style="color:#98c379">&#34;lisa@email.com&#34;</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">lisa</span>.<span style="color:#61afef;font-weight:bold">notify</span>()		<span style="color:#7f848e">// pointer
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">bill</span>.<span style="color:#61afef;font-weight:bold">changeEmail</span>(<span style="color:#98c379">&#34;bill@newdomain.com&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">bill</span>.<span style="color:#61afef;font-weight:bold">notify</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">lisa</span>.<span style="color:#61afef;font-weight:bold">changeEmail</span>(<span style="color:#98c379">&#34;lisa@comcast.com&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">lisa</span>.<span style="color:#61afef;font-weight:bold">notify</span>()
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>关键字 <code>func</code> 和函数名之间的参数被称为接受者，它将函数与接受者的类型绑定。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#56b6c2">[</span>root@yikuanzz ~<span style="color:#56b6c2">]</span><span style="color:#7f848e"># go run test</span>
</span></span><span style="display:flex;"><span>Sending User Email To Bill&lt;bill@email.com&gt; 
</span></span><span style="display:flex;"><span>Sending User Email To Lisa&lt;lisa@email.com&gt; 
</span></span><span style="display:flex;"><span>Sending User Email To Bill&lt;bill@newdomain.com&gt; 
</span></span><span style="display:flex;"><span>Sending User Email To Lisa&lt;lisa@comcast.com&gt; 
</span></span></code></pre></div><blockquote>
<p>这里补充一下，Go 语言里面有两种类型的接受者：<em>值接收者</em> 和 <em>指针接收者</em>。</p>
<p>如果用值接收者，那么参数传递的时候会生成一个副本；如果指针接收者，那么参数传递的时候会操作原地址上的数据。</p>
</blockquote>
<p>虽然我们在 <code>notify</code> 方法有用指针来去调用，但是它仍是复制了副本，实际上是：<code>(*lisa).notify()</code> 的样子。</p>
<h3 id="类型的本质">类型的本质</h3>
<p>1、内置类型。</p>
<p>内置类型就是语言提供的类型：数值类型、字符串类型和布尔类型。</p>
<p>因为是原始的类型，所以我们把这些类型的值传递给方法或函数时，应该传递一个对应值的副本。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// golang.org/src/strings/strings.go：第 620 行到第 625 行
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Trim</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">cutset</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">string</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">if</span> <span style="color:#e06c75">s</span> <span style="color:#56b6c2">==</span> <span style="color:#98c379">&#34;&#34;</span> <span style="color:#56b6c2">||</span> <span style="color:#e06c75">cutset</span> <span style="color:#56b6c2">==</span> <span style="color:#98c379">&#34;&#34;</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#c678dd">return</span> <span style="color:#e06c75">s</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">return</span> <span style="color:#61afef;font-weight:bold">TrimFunc</span>(<span style="color:#e06c75">s</span>, <span style="color:#61afef;font-weight:bold">makeCutsetFunc</span>(<span style="color:#e06c75">cutset</span>))
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>2、引用类型。</p>
<p>Go 语言的引用类型有：切片、映射、通道、接口和函数类型。</p>
<p>当这些类型被声明时，创建的变量叫 <em>标头（header）</em> 值。</p>
<p>每个引用类型创建的标头值是包含一个指向底层数据结构的指针，每个引用类型还有一些特殊的字段来管理底层数据结构。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// golang.org/src/net/ip.go：第 32 行
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">type</span> <span style="color:#e06c75">IP</span> []<span style="color:#e5c07b">byte</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// golang.org/src/net/ip.go：第 329 行到第 337 行
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">MarshalText</span>() ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">if</span> <span style="color:#e5c07b">len</span>(<span style="color:#e06c75">ip</span>) <span style="color:#56b6c2">==</span> <span style="color:#d19a66">0</span>{		<span style="color:#7f848e">// 切片直接复制标头值就可以了
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>        <span style="color:#c678dd">return</span> []<span style="color:#e5c07b">byte</span>(<span style="color:#98c379">&#34;&#34;</span>), <span style="color:#e5c07b">nil</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">if</span> <span style="color:#e5c07b">len</span>(<span style="color:#e06c75">ip</span>) <span style="color:#56b6c2">!=</span> <span style="color:#e06c75">IPv4len</span> <span style="color:#56b6c2">&amp;&amp;</span> <span style="color:#e5c07b">len</span>(<span style="color:#e06c75">ip</span>) <span style="color:#56b6c2">!=</span> <span style="color:#e06c75">IPv6len</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#c678dd">return</span> <span style="color:#e5c07b">nil</span>, <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;Invaild IP address&#34;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">return</span> []<span style="color:#e5c07b">byte</span>(<span style="color:#e06c75">ip</span>.<span style="color:#61afef;font-weight:bold">String</span>()), <span style="color:#e5c07b">nil</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>3、结构类型。</p>
<p>结构类型可以用来描述一组数据值，这组值的本质即可以是原始的，也可以是非原始的。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// golang.org/src/time/time.go：第 39 行到第 55 行
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">// 原始类型的结构体
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Time</span> <span style="color:#c678dd">struct</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#7f848e">// sec 给出自公元 1 年 1 月 1 日 00:00:00 开始的秒数
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#e06c75">sec</span> <span style="color:#e5c07b">int64</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#7f848e">// nsec 指定了一秒内的纳秒偏移，这个值必须在[0, 999999999]范围内
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#e06c75">nsec</span> <span style="color:#e5c07b">int32</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#7f848e">// loc 用于决定时间对应的当地的分、小时、天和年的值
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#e06c75">loc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Location</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>下面的代码，<code>File</code> 类型的实现使用了一个嵌入的指针，指向一个未公开的类型。这层额外的内嵌类型阻止了复制。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// golang.org/src/os/file_unix.go：第 15 行到第 29 行
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">// 非原始类型的结构体
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">// File 表示一个打开的文件描述符
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">type</span> <span style="color:#e06c75">File</span> <span style="color:#c678dd">struct</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#56b6c2">*</span><span style="color:#e06c75">file</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// file 是 *File 的实际表示
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">type</span> <span style="color:#e06c75">file</span> <span style="color:#c678dd">struct</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">fd</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">dirinfo</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">dirInfo</span>		<span style="color:#7f848e">// 除了目录结构，此字段为 nil
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#e06c75">nepipe</span> <span style="color:#e5c07b">int32</span>		<span style="color:#7f848e">// Write 操作时遇到连续 EPIPE 的次数
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// golang.org/src/os/file.go：第 238 行到第 240 行
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Open</span>(<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">file</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">File</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">return</span> <span style="color:#61afef;font-weight:bold">OpenFile</span>(<span style="color:#e06c75">name</span>, <span style="color:#e06c75">O_RDONLY</span>, <span style="color:#d19a66">0</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="接口">接口</h3>
<p><strong>多态</strong>是说代码可以根据类型的具体实现采取不同行为的能力。</p>
<p>如果一个类型实现了某个接口，所有使用这个接口的地方，都可以支持这种类型的值。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;io&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net/http&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;os&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// Simple &#34;curl&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">init</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e5c07b">len</span>(<span style="color:#e06c75">os</span>.<span style="color:#e06c75">Args</span>) <span style="color:#56b6c2">!=</span> <span style="color:#d19a66">2</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#98c379">&#34;Usage: ./nnn &lt;url&gt;&#34;</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">os</span>.<span style="color:#61afef;font-weight:bold">Exit</span>(<span style="color:#56b6c2">-</span><span style="color:#d19a66">1</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Get response from web server
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">r</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">Get</span>(<span style="color:#e06c75">os</span>.<span style="color:#e06c75">Args</span>[<span style="color:#d19a66">1</span>])
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">return</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Copy to Stdout from Body
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">io</span>.<span style="color:#61afef;font-weight:bold">Copy</span>(<span style="color:#e06c75">os</span>.<span style="color:#e06c75">Stdout</span>, <span style="color:#e06c75">r</span>.<span style="color:#e06c75">Body</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">r</span>.<span style="color:#e06c75">Body</span>.<span style="color:#61afef;font-weight:bold">Close</span>(); <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><code>io.Copy</code> 函数中的一个参数必须是实现了 <code>io.Writer</code> 接口的值，第二个参数是必须实现了 <code>io.Reader</code> 接口的值。 当我们将 <code>Body</code> 和 <code>Stdout</code> 这两个值传给 <code>io.Copy</code> 函数后，这个函数会把服务器的数据分成小段，源源不断地传给终端窗口，直到最后一个片段读取并写入终端，<code>io.Copy</code> 函数才返回。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#98c379">&#34;bytes&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#98c379">&#34;io&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#98c379">&#34;os&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">var</span> <span style="color:#e06c75">b</span> <span style="color:#e06c75">bytes</span>.<span style="color:#e06c75">Buffer</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#7f848e">// 将字符串写入 Buffer
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#e06c75">b</span>.<span style="color:#61afef;font-weight:bold">Write</span>([]<span style="color:#e5c07b">byte</span>(<span style="color:#98c379">&#34;Hello&#34;</span>))
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#7f848e">// 用 Fprintf 将字符串拼接到 Buffer
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Fprintf</span>(<span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">b</span>, <span style="color:#98c379">&#34;World!&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#7f848e">// 把 Buffer 的内容写到 Stdout
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#e06c75">io</span>.<span style="color:#61afef;font-weight:bold">Copy</span>(<span style="color:#e06c75">os</span>.<span style="color:#e06c75">Stdout</span>, <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">b</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><hr>
<p><strong>接口</strong>是用来定义行为的类型，这些被定义的行为不由接口直接实现，而是通过方法由用户定义的类型实现。</p>
<p>接口值是一个两字长度的数据结构：</p>
<ul>
<li>1、包含了一个指向内部表的指针，<code>iTable </code> 包含值类型和方法集。</li>
<li>2、还有一个指向所存储值的指针。</li>
</ul>
<p>如果赋值给接口的是指针，那么则会获得其地址上的值 <code>*user</code>。</p>
<p><figure 
	>
	<a href="https://yikuanwebsite.oss-cn-guangzhou.aliyuncs.com/img/20240611145058.png" >
		<img src="https://yikuanwebsite.oss-cn-guangzhou.aliyuncs.com/img/20240611145058.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<hr>
<p><strong>方法集</strong>定义了接口的接受规则。</p>
<p>我们以方法接受者的视角来看，如果方法接收者是<strong>指针</strong>，那么给接口的类型就<strong>必须是指针</strong>类型。</p>
<p>但是，如果方法接收者是<strong>值</strong>，那么给接口的类型<strong>可以是指针</strong>类型也<strong>可以是值</strong>类型。</p>
<p>看到下面这段代码执行就会报错！！</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> <span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">People</span> <span style="color:#c678dd">interface</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#61afef;font-weight:bold">Speak</span>(<span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Student</span> <span style="color:#c678dd">struct</span>{}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">stu</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Student</span>) <span style="color:#61afef;font-weight:bold">Speak</span>(<span style="color:#e06c75">think</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">talk</span> <span style="color:#e5c07b">string</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">if</span> <span style="color:#e06c75">think</span> <span style="color:#56b6c2">==</span> <span style="color:#98c379">&#34;no&#34;</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">talk</span> = <span style="color:#98c379">&#34;I don&#39;t like you!&#34;</span>
</span></span><span style="display:flex;"><span>    } <span style="color:#c678dd">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">talk</span> = <span style="color:#98c379">&#34;Hello, how are you going?&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">return</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">var</span> <span style="color:#e06c75">peo</span> <span style="color:#e06c75">People</span> = <span style="color:#e06c75">Student</span>{}
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">think</span> <span style="color:#56b6c2">:=</span> <span style="color:#98c379">&#34;bitch&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">peo</span>.<span style="color:#61afef;font-weight:bold">Speak</span>(<span style="color:#e06c75">think</span>))
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#56b6c2">[</span>root@yikuanzz ~<span style="color:#56b6c2">]</span><span style="color:#7f848e"># go vet test3</span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e"># test3</span>
</span></span><span style="display:flex;"><span>vet: go/src/test3/pp.go:21:22: cannot use Student<span style="color:#56b6c2">{}</span> <span style="color:#56b6c2">(</span>value of <span style="color:#e5c07b">type</span> Student<span style="color:#56b6c2">)</span> as People value in variable declaration: Student does not implement People <span style="color:#56b6c2">(</span>method Speak has pointer receiver<span style="color:#56b6c2">)</span>
</span></span></code></pre></div><p>如果要改正的话，就是将 <code>Student{}</code> 改为 <code>&amp;Student{}</code> 就好了。</p>
<p>现在我们明白了这个规则了，但是为什么会这样呢？</p>
<p>事实上，编译器并不是总能自动获得一个值的地址。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> <span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// duration is based on int
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">type</span> <span style="color:#e06c75">duration</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// make duration easzier to read
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">d</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">duration</span>) <span style="color:#61afef;font-weight:bold">pretty</span>() <span style="color:#e5c07b">string</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">return</span> <span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Sprintf</span>(<span style="color:#98c379">&#34;Duartion: %d&#34;</span>, <span style="color:#56b6c2">*</span><span style="color:#e06c75">d</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#7f848e">// 这样就是不能获取地址的形式
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果赋值给变量，然后对变量调用方法就是可行的
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#61afef;font-weight:bold">duration</span>(<span style="color:#d19a66">42</span>).<span style="color:#61afef;font-weight:bold">pretty</span>()
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><hr>
<p>接下来，我们再看一看<strong>多态</strong>行为的例子。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// Interface: notifier
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">type</span> <span style="color:#e06c75">notifier</span> <span style="color:#c678dd">interface</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">notify</span>()
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// Struct: user
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">type</span> <span style="color:#e06c75">user</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">email</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// pointer method
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">user</span>) <span style="color:#61afef;font-weight:bold">notify</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;Sending user email to %s&lt;%s&gt;\n&#34;</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">u</span>.<span style="color:#e06c75">name</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">u</span>.<span style="color:#e06c75">email</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// Struct: admin
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">type</span> <span style="color:#e06c75">admin</span> <span style="color:#c678dd">struct</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">email</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// pointer method
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">a</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">admin</span>) <span style="color:#61afef;font-weight:bold">notify</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;Sending admin email to %s&lt;%s&gt;\n&#34;</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">a</span>.<span style="color:#e06c75">name</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">a</span>.<span style="color:#e06c75">email</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">bill</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">user</span>{<span style="color:#98c379">&#34;Bill&#34;</span>, <span style="color:#98c379">&#34;bill@email.com&#34;</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">sendNotification</span>(<span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">bill</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">lisa</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">admin</span>{<span style="color:#98c379">&#34;Lisa&#34;</span>, <span style="color:#98c379">&#34;lisa@email.com&#34;</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">sendNotification</span>(<span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">lisa</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">sendNotification</span>(<span style="color:#e06c75">n</span> <span style="color:#e06c75">notifier</span>){		<span style="color:#7f848e">// 多态函数
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">n</span>.<span style="color:#61afef;font-weight:bold">notify</span>()
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#56b6c2">[</span>root@yikuanzz ~<span style="color:#56b6c2">]</span><span style="color:#7f848e"># go run test5</span>
</span></span><span style="display:flex;"><span>Sending user email to Bill&lt;bill@email.com&gt;
</span></span><span style="display:flex;"><span>Sending admin email to Lisa&lt;lisa@email.com&gt;
</span></span></code></pre></div><h3 id="嵌入类型">嵌入类型</h3>
<p>Go 语言允许用户扩展或修改已有类型的行为，这个功能是通过 <em>嵌入类型（type embedding）</em> 完成的。</p>
<p>嵌入类型是将已有点类型直接声明在新的结构类型里，被嵌入的类型被称为新的外部类型的内部类型。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> <span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">user</span> <span style="color:#c678dd">struct</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">email</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">user</span>) <span style="color:#61afef;font-weight:bold">notify</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;Sending user eamil to %s&lt;%s&gt; \n&#34;</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">u</span>.<span style="color:#e06c75">name</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">u</span>.<span style="color:#e06c75">email</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">admin</span> <span style="color:#c678dd">struct</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">user</span> 	<span style="color:#7f848e">// embeding type
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">level</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// initiate a admin
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ad</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">admin</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">user</span> : <span style="color:#e06c75">user</span>{
</span></span><span style="display:flex;"><span>			<span style="color:#e06c75">name</span>: <span style="color:#98c379">&#34;john smith&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#e06c75">email</span>: <span style="color:#98c379">&#34;john@yahoo.com&#34;</span>,
</span></span><span style="display:flex;"><span>		},
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">level</span> : <span style="color:#98c379">&#34;super&#34;</span>,
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ad</span>.<span style="color:#e06c75">user</span>.<span style="color:#61afef;font-weight:bold">notify</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ad</span>.<span style="color:#61afef;font-weight:bold">notify</span>()		<span style="color:#7f848e">// 内部类型的方法被提升到外部类型
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#56b6c2">[</span>root@yikuanzz ~<span style="color:#56b6c2">]</span><span style="color:#7f848e"># go run test6</span>
</span></span><span style="display:flex;"><span>Sending user eamil to john smith&lt;john@yahoo.com&gt; 
</span></span><span style="display:flex;"><span>Sending user eamil to john smith&lt;john@yahoo.com&gt; 
</span></span></code></pre></div><p>我们对上述例子进行修改添加一个接口：</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">notifier</span> <span style="color:#c678dd">interface</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">notify</span>()
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">sendNotification</span>(<span style="color:#e06c75">n</span> <span style="color:#e06c75">notifier</span>){
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">n</span>.<span style="color:#61afef;font-weight:bold">notify</span>()
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>在 <code>main </code>函数中调用 <code>sendNotification(&amp;ad)</code>，这样用于实现接口的内部类型的方法被提升到外部类型。</p>
<p>那么这时候问题来了，如果我们要给 <code>admin</code> 也实现一个方法会怎么样？</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">a</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">admin</span>) <span style="color:#61afef;font-weight:bold">notify</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;Sending admin eamil to %s&lt;%s&gt; \n&#34;</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">a</span>.<span style="color:#e06c75">name</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">a</span>.<span style="color:#e06c75">email</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>我们在 <code>main</code> 函数中执行这些语句：<code>sendNotification(&amp;ad)</code>、<code>ad.user.notify()</code> 和 <code>ad.notify()</code>。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#56b6c2">[</span>root@yikuanzz ~<span style="color:#56b6c2">]</span><span style="color:#7f848e"># go run test6</span>
</span></span><span style="display:flex;"><span>Sending admin eamil to john smith&lt;john@yahoo.com&gt; 
</span></span><span style="display:flex;"><span>Sending user eamil to john smith&lt;john@yahoo.com&gt; 
</span></span><span style="display:flex;"><span>Sending admin eamil to john smith&lt;john@yahoo.com&gt; 
</span></span></code></pre></div><p>我们发现，只有执行 <code>ad.user.notify()</code> 才会调用内部类型的方法。</p>
<h3 id="公开或未公开的标识符">公开或未公开的标识符</h3>
<p>如果想设计好的 API，是需要用某种规则来控制声明后的标识符的可见性。</p>
<p>Go 语言支持从包里公开或隐藏标识符，通过这个功能，让用户能按照自己的规划控制标识符的可见性。</p>
<p>其实，如果我们知道私有变量和公有变量的概念就很好理解了，因为就是一个道理。</p>
<p>即，标识符的名字小写字母开头的，那么这个标识符就是未公开的；如果标识符的名字大写字母开头的，那么这个标识符就是公开的。</p>
<p>我们一般用工厂函数来对未公开的标识符进行操作，其实就是用函数来创建对象，为它添加数性和方法，然后返回这个对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// entities
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">package</span> <span style="color:#e06c75">entities</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">user</span> <span style="color:#c678dd">struct</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">Name</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">Email</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Admin</span> <span style="color:#c678dd">struct</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">user</span>		<span style="color:#7f848e">// 嵌入类型未公开
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#e06c75">Rights</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// main
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#98c379">&#34;entities&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">a</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">entities</span>.<span style="color:#e06c75">Admin</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">Right</span>: <span style="color:#d19a66">10</span>,
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#7f848e">// 可设置内部类型公开字段的值
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#e06c75">a</span>.<span style="color:#e06c75">Name</span> = <span style="color:#98c379">&#34;Bill&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">a</span>.<span style="color:#e06c75">Email</span> = <span style="color:#98c379">&#34;bill@email.com&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;User: %v \n&#34;</span>, <span style="color:#e06c75">a</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>因为 <code>user</code> 不是公开的，所以不能直接通过字面量构建；但是内部类型公开的标识符是可以通过外部类型来访问，并进行初始化的。</p>
<h2 id="go-并发">Go 并发</h2>
<p>在开始 Go 语言并发编程之前，我们先简单地了解一些概念：</p>
<ul>
<li>
<p>1、进程和线程：</p>
<ul>
<li>进程是程序在操作系统中的一次执行过程，系统进行资源分配和调度的一个独立单位。</li>
<li>线程是进程的一个执行实例，是 CPU 调度和分派的基本单位。</li>
<li>一个进程可以创建和撤销多个线程；同一个进程中的多个线程之间可以并发执行。</li>
</ul>
</li>
<li>
<p>2、协程和线程：</p>
<ul>
<li>协程，独立的栈空间，共享堆空间，调度由用户自己控制。</li>
<li>线程，在一个线程上可以跑多个协程，就是说协程是轻量级的线程。</li>
</ul>
</li>
<li>
<p>3、并发和并行：</p>
<ul>
<li>
<p>多线程程序在一个核心的 CPU 上运行，就是并发，并发主要由切换时间片来实现&quot;同时&quot;运行。</p>
<p><figure 
	>
	<a href="https://yikuanwebsite.oss-cn-guangzhou.aliyuncs.com/img/20240611173906.png" >
		<img src="https://yikuanwebsite.oss-cn-guangzhou.aliyuncs.com/img/20240611173906.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
</li>
<li>
<p>多线程程序在多个核心的 CPU 上运行，就是并行，并行是直接利用多核实现多线程的运行。</p>
<p><figure 
	>
	<a href="https://yikuanwebsite.oss-cn-guangzhou.aliyuncs.com/img/20240611173940.png" >
		<img src="https://yikuanwebsite.oss-cn-guangzhou.aliyuncs.com/img/20240611173940.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
</li>
</ul>
</li>
</ul>
<p>Go 语言中的并发其实就是能让某个函数独立于其他函数运行的能力。当一个函数创建为 <code>goroutine</code> 时，Go 会将其视为一个独立的工作单元，这个单元会被调度到可用的<strong>逻辑处理器</strong>上执行。</p>
<p>Go 语言通过<strong>运行时的调度器</strong>来管理被创建的所有 <code>goroutine</code> 并为其分配执行时间。这个调度器在操作系统之上，将操作系统的线程与语言运行时的逻辑处理器绑定，并在逻辑处理器上运行 <code>goroutine</code>。</p>
<p><figure 
	>
	<a href="https://yikuanwebsite.oss-cn-guangzhou.aliyuncs.com/img/20240611175215.png" >
		<img src="https://yikuanwebsite.oss-cn-guangzhou.aliyuncs.com/img/20240611175215.png"
			
			
			
			loading="lazy"
			>
	</a>
	
</figure></p>
<p>有时，正在运行的 <code>goroutine</code> 需要执行阻塞的系统调用，比如打开一个文件，这时线程和 <code>goroutine</code> 会从逻辑处理器上分离，并且这个线程会继续阻塞直到系统调用返回。</p>
<p>此时，逻辑处理器就失去了线程，于是调度器会新建一个线程，并将其绑定到逻辑处理器上，然后在从本地运行队列里选择另一个 <code>goroutine</code> 来运行。</p>
<p>一旦被阻塞的系统调用执行完成并返回，对应的 <code>goroutine</code> 会回到本地运行队列，而之前的线程会被维护，以便之后可以继续使用。</p>
<hr>
<p>如果一个 <code>goroutine</code> 要做一个网络 I/O 调用的话，<code>goroutine</code> 就不用逻辑处理器，而是移到集成了<strong>网络轮询器</strong>的运行时。一旦该轮询器指示某个网络读或写操作已就绪，对应的 <code>goroutine</code> 就会重新分配到逻辑处理器上来完成操作。（调度器对可以创建的）</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/note/">Note</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css"integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js"integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8"crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js"integrity="sha384-vZTG03m&#43;2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl"crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ]
        });})
</script>
    
</article>

    <aside class="related-contents--wrapper">
    
    
        <h2 class="section-title">Related contents</h2>
        <div class="related-contents">
            <div class="flex article-list--tile">
                
                    
<article class="has-image">
    <a href="/2024/shell%E5%AD%A6%E4%B9%A0/">
        
        
            <div class="article-image">
                <img src="/2024/shell%E5%AD%A6%E4%B9%A0/cover.51251896a6af909388445aa0d04e4754_hu87cba6621d1cba6cf29db5a9878ced61_565035_250x150_fill_box_smart1_3.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post Shell学习"
                        data-key="Shell学习" 
                        data-hash="md5-USUYlqavkJOIRFqg0E5HVA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Shell学习</h2>
        </div>
    </a>
</article>
                
                    
<article class="has-image">
    <a href="/2024/android%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/">
        
        
            <div class="article-image">
                <img src="/2024/android%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/cover.3e17a9fdf92ab500eed4f3a8ff605aef_hu1426f538bf3f3d274a2921f898c10f8c_1722201_250x150_fill_box_smart1_3.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post Android开发笔记"
                        data-key="Android开发笔记" 
                        data-hash="md5-Phep/fkqtQDu1POo/2Ba7w==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Android开发笔记</h2>
        </div>
    </a>
</article>
                
                    
<article class="has-image">
    <a href="/2024/%E7%B3%BB%E7%BB%9F%E7%BA%A7io/">
        
        
            <div class="article-image">
                <img src="/2024/%E7%B3%BB%E7%BB%9F%E7%BA%A7io/cover.294b91817829c50173f6c56acd748118_hub73ae7b0ed1c4909ac831706abf2ed8e_880514_250x150_fill_box_smart1_3.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post 系统级IO"
                        data-key="系统级IO" 
                        data-hash="md5-KUuRgXgpxQFz9sVqzXSBGA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">系统级IO</h2>
        </div>
    </a>
</article>
                
            </div>
        </div>
    
</aside>

     
     
        
    <script src='//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js'></script>
<div id="waline" class="waline-container"></div>
<style>
    .waline-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
    .waline-container .vcount {
        color: var(--card-text-color-main);
    }
</style><script>
    
    new Waline({"dark":"html[data-scheme=\"dark\"]","el":"#waline","emoji":["https://npm.elemecdn.com/@waline/emojis@1.1.0/bilibili","https://npm.elemecdn.com/@waline/emojis@1.1.0/bmoji","https://npm.elemecdn.com/@waline/emojis@1.1.0/weibo"],"lang":"zh-CN","locale":{"admin":"站长","sofa":"还没有人评论哦！快来抢沙发吧~"},"placeholder":"欢迎留言！","requiredMeta":["name","email","url"],"serverURL":"https://vercel-db-yikuanzzs-projects.vercel.app/"});
</script>

    

    <footer class="site-footer">
  


    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    


<script>
(function(u, c) {
  var d = document, t = 'script', o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
  o.src = u;
  if (c) { o.addEventListener('load', function(e) { c(e); }); }
  s.parentNode.insertBefore(o, s);
})('//cdn.bootcss.com/pangu/3.3.0/pangu.min.js', function() {
  pangu.spacingPage();
});
</script>

    <section class="copyright">
        &copy; 
        
        2024 <a href="https://yikuanzz.github.io//">Yikuanzz</a>·<i class="fas fa-bell"></i> <a id="days">0</a>Days<br>
      共书写了139.9k字·共 23篇文章</br><span><p>
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.2.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a><br />
         <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">© Licensed Under CC BY-NC-SA 4.0</a>
    </section>

<script>
var s1 = '2024-03-22';
s1 = new Date(s1.replace(/-/g, "/"));
s2 = new Date();
var days = s2.getTime() - s1.getTime();
var number_of_days = parseInt(days / (1000 * 60 * 60 * 24));
document.getElementById('days').innerHTML = number_of_days;
</script>
    
</footer>



    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
    
    
    
    <aside class="sidebar right-sidebar sticky">
        
            <form action="/search/" class="search-form widget" >
        <p>
            <label>Search</label>
            <input name="keyword" required placeholder="Type something..." />
        
            <button title="Search">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



            </button>
        </p>
    </form>
        
            
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#go-基础">Go 基础</a>
      <ol>
        <li><a href="#go">Go</a></li>
        <li><a href="#包">包</a></li>
        <li><a href="#导包">导包</a></li>
        <li><a href="#函数-init">函数 init</a></li>
        <li><a href="#依赖管理">依赖管理</a></li>
      </ol>
    </li>
    <li><a href="#go-数据结构">Go 数据结构</a>
      <ol>
        <li><a href="#数组">数组</a></li>
        <li><a href="#切片">切片</a></li>
        <li><a href="#映射">映射</a></li>
      </ol>
    </li>
    <li><a href="#go-语言系统">Go 语言系统</a>
      <ol>
        <li><a href="#用户定义类型">用户定义类型</a></li>
        <li><a href="#方法">方法</a></li>
        <li><a href="#类型的本质">类型的本质</a></li>
        <li><a href="#接口">接口</a></li>
        <li><a href="#嵌入类型">嵌入类型</a></li>
        <li><a href="#公开或未公开的标识符">公开或未公开的标识符</a></li>
      </ol>
    </li>
    <li><a href="#go-并发">Go 并发</a></li>
  </ol>
</nav>
        </div>
    </section>

        
            <section class="widget categories">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-infinity" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M9.828 9.172a4 4 0 1 0 0 5.656 a10 10 0 0 0 2.172 -2.828a10 10 0 0 1 2.172 -2.828 a4 4 0 1 1 0 5.656a10 10 0 0 1 -2.172 -2.828a10 10 0 0 0 -2.172 -2.828" />
</svg>


  
        </div> 
        <h2 class="widget-title section-title">Categories</h2>
    <div class="widget-categories--list">
<div class="widget">
    <h3 class="widget-title"> </h3>
    <div class="widget-body">
        <div class="category-list">
            <div class="category-list-item"><a href="https://yikuanzz.github.io/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" class="category-list-link">人工智能<span class="category-list-count">1</a>
            </span></div>
            <div class="category-list-item"><a href="https://yikuanzz.github.io/categories/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4%E6%8A%80%E6%9C%AF/" class="category-list-link">开发运维技术<span class="category-list-count">6</a>
            </span></div>
            <div class="category-list-item"><a href="https://yikuanzz.github.io/categories/%E6%8A%80%E6%9C%AF%E4%B8%8E%E6%95%88%E7%8E%87/" class="category-list-link">技术与效率<span class="category-list-count">9</a>
            </span></div>
            <div class="category-list-item"><a href="https://yikuanzz.github.io/categories/%E6%95%B0%E5%AD%A6%E4%B8%8E%E7%89%A9%E7%90%86/" class="category-list-link">数学与物理<span class="category-list-count">1</a>
            </span></div>
            <div class="category-list-item"><a href="https://yikuanzz.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" class="category-list-link">数据库<span class="category-list-count">1</a>
            </span></div>
            <div class="category-list-item"><a href="https://yikuanzz.github.io/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="category-list-link">算法与数据结构<span class="category-list-count">2</a>
            </span></div>
            <div class="category-list-item"><a href="https://yikuanzz.github.io/categories/%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" class="category-list-link">语言学习<span class="category-list-count">3</a>
            </span></div>
        </div>
    </div>
</div>
    </div>
    </section>
        
            <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-infinity" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M9.828 9.172a4 4 0 1 0 0 5.656 a10 10 0 0 0 2.172 -2.828a10 10 0 0 1 2.172 -2.828 a4 4 0 1 1 0 5.656a10 10 0 0 1 -2.172 -2.828a10 10 0 0 0 -2.172 -2.828" />
</svg>



        </div>
        <h2 class="widget-title section-title">Archives</h2>

        
        
        
        
        
        <div class="widget-archive--list">
            <div class="archives-year">
                    <a href="/archives/#2024">
                        
                            <span class="year">2024</span>
                            <span class="count">23</span>
                        
                    </a> 
                </div>
            
        </div>
    </section>
        
            <section class="widget tagCloud">
    <div class="widget-icon">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11 3L20 12a1.5 1.5 0 0 1 0 2L14 20a1.5 1.5 0 0 1 -2 0L3 11v-4a4 4 0 0 1 4 -4h4" />
  <circle cx="9" cy="9" r="2" />
</svg>



    </div>
    <h2 class="widget-title section-title">Tags</h2>

    <div class="tagCloud-tags">
        
            <a href="/tags/note/" class="font_size_8">
                Note
            </a>
        
            <a href="/tags/web/" class="font_size_3">
                Web
            </a>
        
            <a href="/tags/%E8%8B%B1%E8%AF%AD/" class="font_size_3">
                英语
            </a>
        
            <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="font_size_3">
                计算机网络
            </a>
        
            <a href="/tags/c/" class="font_size_2">
                C
            </a>
        
            <a href="/tags/linux/" class="font_size_2">
                Linux
            </a>
        
            <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" class="font_size_2">
                计算机组成原理
            </a>
        
            <a href="/tags/mysql/" class="font_size_1">
                MySQL
            </a>
        
            <a href="/tags/python/" class="font_size_1">
                Python
            </a>
        
            <a href="/tags/shell/" class="font_size_1">
                Shell
            </a>
        
    </div>
</section>
        
    </aside>


        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
